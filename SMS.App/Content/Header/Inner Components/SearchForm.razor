<!-- Search -->
<form class="d-none d-wd-flex ms-5 w-xl-450p">
    <div class="input-group border rounded">
        <div class="input-group-prepend">

            <button class="btn btn-sm my-2 my-sm-0 text-white icon-xs d-flex align-items-center" type="submit" @onclick=Search>
                <!-- Icon -->
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8.80758 0C3.95121 0 0 3.95121 0 8.80758C0 13.6642 3.95121 17.6152 8.80758 17.6152C13.6642 17.6152 17.6152 13.6642 17.6152 8.80758C17.6152 3.95121 13.6642 0 8.80758 0ZM8.80758 15.9892C4.8477 15.9892 1.62602 12.7675 1.62602 8.80762C1.62602 4.84773 4.8477 1.62602 8.80758 1.62602C12.7675 1.62602 15.9891 4.8477 15.9891 8.80758C15.9891 12.7675 12.7675 15.9892 8.80758 15.9892Z" fill="currentColor" />
                    <path d="M19.762 18.6121L15.1007 13.9509C14.7831 13.6332 14.2687 13.6332 13.9511 13.9509C13.6335 14.2682 13.6335 14.7831 13.9511 15.1005L18.6124 19.7617C18.7712 19.9205 18.9791 19.9999 19.1872 19.9999C19.395 19.9999 19.6032 19.9205 19.762 19.7617C20.0796 19.4444 20.0796 18.9295 19.762 18.6121Z" fill="currentColor" />
                </svg>
            </button>

        </div>
        <input @bind:event="oninput" @bind="_searchString" @onkeydown="SeekSearch" class="form-control placeholder-white text-white bg-transparent form-control-sm border-0 ps-0" type="search" placeholder="What do you want to learn ?" aria-label="Search" />
    </div>
</form>

@code {
    [Inject] public NavigationManager NavManager { get; set; } = default!;

    private string? _searchString;
    private void SeekSearch(KeyboardEventArgs e)
    {
        if (e.Key == "\n")
        {
            Search();
        }
    }
    private void Search()
    {
        var s = NavManager.GetUriWithQueryParameters($"/search", new Dictionary<string, object?>(
        new List<KeyValuePair<string, object?>>
            {
                    new KeyValuePair<string, object?>("value", _searchString)
            }));

        NavManager.NavigateTo(s);
    }
}
