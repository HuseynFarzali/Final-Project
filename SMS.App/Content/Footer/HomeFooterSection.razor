@using SMS.App.Features.About
@using SMS.App.Features.Categories
@using SMS.App.Features.Courses
@using SMS.App.Features.Shared.NavButton
@using SMS.App.Features.Teachers
@using SMS.App.Models
@using SMS.App.Tools
<!-- FOOTER
================================================== -->
<footer class="pt-8 pt-md-11 bg-white">
    <div class="container">
        <div class="row" id="accordionFooter">
            <div class="col-12 col-md-4 col-lg-4">

                <!-- Brand -->
                <img src="assets/img/brand-coral.svg" alt="..." class="footer-brand img-fluid mb-4 h-60p">

                <!-- Text -->
                <p class="text-gray-800 mb-4 font-size-sm-alone">
                    Azerbaijan, Bakının hər hansı bir yeri.
                </p>

                <div class="mb-4">
                    <a href="tel:1234567890" class="text-gray-800 font-size-sm-alone">(+994 12) 551 1433</a>
                </div>

                <div class="mb-4">
                    <a href="hello@elevate.edu" class="text-gray-800 font-size-sm-alone">hello@elevate.edu</a>
                </div>

                <!-- Social -->
                <ul class="list-unstyled list-inline list-social mb-4 mb-md-0 mx-n2">
                    <li class="list-inline-item list-social-item">
                        <a href="#" class="text-secondary font-size-sm w-36 h-36 shadow-dark-hover d-flex align-items-center justify-content-center rounded-circle border-hover">
                            <i class="fab fa-facebook-f"></i>
                        </a>
                    </li>
                    <li class="list-inline-item list-social-item">
                        <a href="#" class="text-secondary font-size-sm w-36 h-36 shadow-dark-hover d-flex align-items-center justify-content-center rounded-circle border-hover">
                            <i class="fab fa-twitter"></i>
                        </a>
                    </li>
                    <li class="list-inline-item list-social-item">
                        <a href="#" class="text-secondary font-size-sm w-36 h-36 shadow-dark-hover d-flex align-items-center justify-content-center rounded-circle border-hover">
                            <i class="fab fa-instagram"></i>
                        </a>
                    </li>
                    <li class="list-inline-item list-social-item">
                        <a href="#" class="text-secondary font-size-sm w-36 h-36 shadow-dark-hover d-flex align-items-center justify-content-center rounded-circle border-hover">
                            <i class="fab fa-linkedin-in"></i>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="col-12 col-md-4 col-lg-2">
                <div class="mb-5 mb-xl-0 footer-accordion">

                    <!-- Heading -->
                    <div id="widgetOne">
                        <h5 class="mb-5">
                            <button class="text-dark fw-medium footer-accordion-toggle d-flex align-items-center" type="button" data-bs-toggle="collapse" data-bs-target="#widgetcollapseOne" aria-expanded="true" aria-controls="widgetcollapseOne">
                                Our Academy
                                <span class="ms-auto text-dark">
                                    <!-- Icon -->
                                    <svg width="15" height="2" viewBox="0 0 15 2" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <rect width="15" height="2" fill="currentColor" />
                                    </svg>

                                    <svg width="15" height="16" viewBox="0 0 15 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M0 7H15V9H0V7Z" fill="currentColor" />
                                        <path d="M6 16L6 8.74228e-08L8 0L8 16H6Z" fill="currentColor" />
                                    </svg>

                                </span>
                            </button>
                        </h5>
                    </div>

                    <div id="widgetcollapseOne" class="collapse show" aria-labelledby="widgetOne" data-parent="#accordionFooter">

                        <!-- List -->
                        <ul class="list-unstyled text-gray-800 font-size-sm-alone mb-6 mb-md-8 mb-lg-0">
                            <li class="mb-3">
                                <NavButton NavigatesTo="@AboutLink.AboutPagePathRelative" Style="text-reset">
                                    Our Company
                                </NavButton>
                            </li>
                            <li class="mb-3">
                                <NavButton NavigatesTo="@CommunityLink.CommunityPagePathRelative" Style="text-reset">
                                    Community
                                </NavButton>
                            </li>
                            <li class="mb-3">
                                <NavButton NavigatesTo="@CoursesLink.CoursesPathRelative" Style="text-reset">
                                    Careers
                                </NavButton>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Courses -->
            <div class="col-12 col-md-4 col-lg-3">
                <div class="mb-5 mb-xl-0 ms-xl-6 footer-accordion">

                    <!-- Heading -->
                    <div id="widgetTwo">
                        <h5 class="mb-5">
                            <button class="text-dark fw-medium footer-accordion-toggle d-flex align-items-center" type="button" data-bs-toggle="collapse" data-bs-target="#widgetcollapseTwo" aria-expanded="false" aria-controls="widgetcollapseTwo">
                                Courses
                                <span class="ms-auto text-dark">
                                    <!-- Icon -->
                                    <svg width="15" height="2" viewBox="0 0 15 2" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <rect width="15" height="2" fill="currentColor" />
                                    </svg>

                                    <svg width="15" height="16" viewBox="0 0 15 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M0 7H15V9H0V7Z" fill="currentColor" />
                                        <path d="M6 16L6 8.74228e-08L8 0L8 16H6Z" fill="currentColor" />
                                    </svg>

                                </span>
                            </button>
                        </h5>
                    </div>

                    <div id="widgetcollapseTwo" class="collapse" aria-labelledby="widgetTwo" data-parent="#accordionFooter">
                        <!-- List -->
                        <ul class="list-unstyled text-gray-800 font-size-sm-alone mb-6 mb-md-8 mb-lg-0">
                            @if (_coursesCall.IsFailed is false)
                            {
                                @if (_coursesCall.Processing)
                                {
                                    
                                }
                                else
                                {
                                    @foreach (var course in _coursesCall.Data!.Take(8))
                                    {
                                        <li class="mb-3">
                                            <NavButton NavigatesTo="@(CoursesLink.CoursesPathRelative + $"/{course.Id}")" Style="text-reset">
                                                @course.Name
                                            </NavButton>
                                        </li>
                                    }
                                }
                            }
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Categories -->
            <div class="col-12 col-md-4 offset-md-4 col-lg-2 offset-lg-0">
                <div class="mb-5 mb-xl-0 ms-xl-6 footer-accordion">

                    <!-- Heading -->
                    <div id="widgetThree">
                        <h5 class="mb-5">
                            <button class="text-dark fw-medium footer-accordion-toggle d-flex align-items-center" type="button" data-bs-toggle="collapse" data-bs-target="#widgetcollapseThree" aria-expanded="false" aria-controls="widgetcollapseThree">
                                Tracks
                                <span class="ms-auto text-dark">
                                    <!-- Icon -->
                                    <svg width="15" height="2" viewBox="0 0 15 2" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <rect width="15" height="2" fill="currentColor" />
                                    </svg>

                                    <svg width="15" height="16" viewBox="0 0 15 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M0 7H15V9H0V7Z" fill="currentColor" />
                                        <path d="M6 16L6 8.74228e-08L8 0L8 16H6Z" fill="currentColor" />
                                    </svg>

                                </span>
                            </button>
                        </h5>
                    </div>

                    <div id="widgetcollapseThree" class="collapse" aria-labelledby="widgetThree" data-parent="#accordionFooter">
                        <!-- List -->
                        <ul class="list-unstyled text-gray-800 font-size-sm-alone mb-0">
                            @if (_categoriesCall.IsFailed is false)
                            {
                                @if (_categoriesCall.Processing)
                                {
                                    
                                }
                                else
                                {
                                    @foreach (var category in _categoriesCall.Data!.Take(8))
                                    {
                                        <li class="mb-3">
                                            <NavButton NavigatesTo="@(CategoriesLink.CategoriesPathRelative + $"/{category.Id}")" Style="text-reset">
                                                @category.Name
                                            </NavButton>
                                        </li>
                                    }
                                }
                            }
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="col-12 mt-md-5">
                <div class="border-top pb-5 pt-6 py-md-4 text-center text-xl-start d-flex flex-column d-md-block d-xl-flex flex-xl-row align-items-center">

                    <p class="text-gray-800 font-size-sm-alone d-block mb-0 mb-md-2 mb-xl-0 order-1 order-md-0 px-9 px-md-0">Copyright © 2021 CreativeLayers. All Right Reserved.</p>

                    <div class="ms-xl-auto d-flex flex-column flex-md-row align-items-stretch align-items-md-center justify-content-center" style="width:700px;">
                        <ul class="navbar-nav flex-row flex-wrap font-size-sm-alone mb-3 mb-md-0 mx-n4 me-md-5 justify-content-center justify-content-lg-start order-1 order-md-0">

                            <li class="nav-item py-2 py-md-0 px-0 border-top-0">
                                <NavButton NavigatesTo="" Style="nav-link px-4 fw-normal text-gray-800">Home</NavButton>
                            </li>
                            <li class="nav-item py-2 py-md-0 px-0 border-top-0">
                                <NavButton NavigatesTo="@CoursesLink.CoursesPathRelative" Style="nav-link px-4 fw-normal text-gray-800">Courses</NavButton>
                            </li>
                            <li class="nav-item py-2 py-md-0 px-0 border-top-0">
                                <NavButton NavigatesTo="@CategoriesLink.CategoriesPathRelative" Style="nav-link px-4 fw-normal text-gray-800">Categories</NavButton>
                            </li>
                            <li class="nav-item py-2 py-md-0 px-0 border-top-0">
                                <NavButton NavigatesTo="@TeachersLink.TeachersPagePathRelative" Style="nav-link px-4 fw-normal text-gray-800">Instructors</NavButton>
                            </li>
                        </ul>

                        <select class="form-select form-select-sm font-size-sm-alone shadow min-width-140 w-200p text-left mb-4 mb-md-0" data-choices>
                            <option>English</option>
                        </select>
                    </div>
                </div>
            </div>
        </div> <!-- / .row -->
    </div> <!-- / .container -->
</footer>

@code {
    [Inject] public HttpClient Api { get; set; } = default!;

    private CallResult<IEnumerable<CourseDto>> _coursesCall = new();
    private CallResult<IEnumerable<CategoryDto>> _categoriesCall = new();

    protected override async Task OnInitializedAsync()
    {
        await _coursesCall.DiagnoseAsync(await Api.GetAsync("/api/courses/all"));
        await _categoriesCall.DiagnoseAsync(await Api.GetAsync("/api/categories/all"));
    }
}
